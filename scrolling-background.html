<link rel="import" href="../polymer/polymer.html" />

<dom-module id="scrolling-background">
	<style>
		#background {
			background-size: cover !important;
			background-position: 50% 50% !important;
			bottom: 0;
			left: 0;
			position: fixed;
			right: 0;
			top: 0;
			transition: background 0.3s;
		}
		#information-container {
			position: fixed;
			top: 0;
			bottom: 0;
			left: 0;
			right: 0;
			overflow-y: auto;
		}
	</style>
	<template>
		<div id="background" style$="background-image: url({{activeBackground}})">
			a
		</div>
		<div id="information-container" on-scroll="scroller">
			<content></content>
		</div>
	</template>
	<script>
	Polymer({
		is: 'scrolling-background',
		properties: {
			activeBackground: {
				type: String,
				value: ''
			}
		},
		backgroundsCollection: [],
		backgroundIndex: Number,
		ready: function () {
			var nodeList = document.querySelectorAll('background-element'),
				i
			for(i = 0; i < nodeList.length; i++) {
				this.backgroundsCollection.push(nodeList[i].getAttribute('background'));
			}
			this.backgroundIndex = 0;
			this.activeBackground = this.backgroundsCollection[0];
		},
		scroller: function() {
			this.backgroundIndex += 1;
			this.activeBackground = this.backgroundsCollection[this.backgroundIndex];
		}
	});
	</script>
</dom-module>